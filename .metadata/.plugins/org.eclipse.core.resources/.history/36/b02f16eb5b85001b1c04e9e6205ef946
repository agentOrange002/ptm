package sys.app.ptm.tool;

import java.time.DayOfWeek;
import java.time.LocalDate;
import java.time.ZoneId;
import java.time.temporal.TemporalAdjusters;
import java.time.temporal.WeekFields;
import java.util.Locale;

public class ThisLocalizedWeek {

	// Try and always specify the time zone you're working with
	private ZoneId TZ = ZoneId.of("Asia/Manila");

	private Locale locale;
	private DayOfWeek firstDayOfWeek;
	private DayOfWeek lastDayOfWeek;
	private DayOfWeek secondDayOfWeek;
	private DayOfWeek thirdDayOfWeek;
	private DayOfWeek fourthDayOfWeek;
	private DayOfWeek fifthDayOfWeek;
	private DayOfWeek sixthDayOfWeek;

	public ThisLocalizedWeek(Locale locale) {
		this.locale = locale;
		this.firstDayOfWeek = WeekFields.of(locale).getFirstDayOfWeek();
		this.lastDayOfWeek = DayOfWeek.of(((this.firstDayOfWeek.getValue() + 5) % DayOfWeek.values().length) + 1);

		this.secondDayOfWeek = DayOfWeek.of(((this.firstDayOfWeek.getValue() + 0) % DayOfWeek.values().length) + 1);
		this.thirdDayOfWeek = DayOfWeek.of(((this.firstDayOfWeek.getValue() + 1) % DayOfWeek.values().length) + 1);
		this.fourthDayOfWeek = DayOfWeek.of(((this.firstDayOfWeek.getValue() + 2) % DayOfWeek.values().length) + 1);
		this.fifthDayOfWeek = DayOfWeek.of(((this.firstDayOfWeek.getValue() + 3) % DayOfWeek.values().length) + 1);
		this.sixthDayOfWeek = DayOfWeek.of(((this.firstDayOfWeek.getValue() + 4) % DayOfWeek.values().length) + 1);

	}

	public LocalDate getFirstDay() {
		return LocalDate.now(TZ).with(TemporalAdjusters.previousOrSame(this.firstDayOfWeek));
	}

	public LocalDate getLastDay() {
		return LocalDate.now(TZ).with(TemporalAdjusters.nextOrSame(this.lastDayOfWeek));
	}

	public LocalDate getSecondDay() {
		return LocalDate.now(TZ).with(TemporalAdjusters.nextOrSame(this.secondDayOfWeek));
	}

	public LocalDate getThirdDay() {
		return LocalDate.now(TZ).with(TemporalAdjusters.nextOrSame(this.thirdDayOfWeek));
	}

	public LocalDate getFourthDay() {
		return LocalDate.now(TZ).with(TemporalAdjusters.nextOrSame(this.fourthDayOfWeek));
	}

	public LocalDate getFifthDay() {
		return LocalDate.now(TZ).with(TemporalAdjusters.nextOrSame(this.fifthDayOfWeek));
	}

	public LocalDate getSixthDay() {
		return LocalDate.now(TZ).with(TemporalAdjusters.nextOrSame(this.sixthDayOfWeek));
	}

}